
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>report</title>
    <style type="text/css">
        .Content-Main {
            max-width: 500px;
            margin: auto;

            padding: 20px 30px 20px 30px;
            font: 12px "Helvetica Neue", Helvetica, Arial, sans-serif;
            text-shadow: 1px 1px 1px #FFF;
            border: 1px solid #DDD;
            border-radius: 5px;
            box-shadow: 10px 10px 10px #dce2eb,
            -10px -10px 10px #f7f8f8;
            color: #888;
            background: #ecf0f3;
        }

        .Content-Main h1 {
            display: block;
            padding: 0px 0px 10px 40px;
            margin: -10px -30px 30px -30px;
            font: 25px "Helvetica Neue", Helvetica, Arial, sans-serif;
            border-bottom: 1px solid #DADADA;
            color: #888;

            font-weight: bolder;
            box-shadow: 3px 0px 10px #dce2eb, 3px -16px 10px #f7f8f8;
        }

        .Content-Main h1 > span {
            display: block;
            font-size: 11px;
        }

        .Content-Main label {
            display: block;
            margin: 0px 0px 5px;
        }

        .Content-Main label > span {
            float: left;
            width: 20%;
            padding-right: 10px;
            margin-top: 10px;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            font-weight: bold;
            text-align: right;
            color: #333;
        }

        .text, .Content-Main textarea {
            width: 70%;
            height: 20px;
            padding: 5px 0px 5px 5px;
            margin-bottom: 16px;
            margin-right: 6px;
            margin-top: 2px;
            line-height: 15px;
            border-radius: 4px;
            border: 1px solid #CCC;
            color: #888;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        }

        .select1 {
            width: 71%;
            height: 35px;
            margin-bottom: 16px;
            margin-right: 6px;
            margin-top: 2px;
            line-height: 15px;
            padding: 5px 0px 5px 5px;
            border-radius: 4px;
            border: 1px solid #CCC;
            color: #888;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        }

        .select2 {
            width: 13%;
            border-radius: 4px;
            border: 1px solid #CCC;
            color: #888;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
            -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        }

        .Content-Main textarea {
            width: 70%;
            height: 100px;
            padding: 5px 0px 0px 5px;
        }

        .button {
            padding: 10px 25px 10px 25px;
            margin-left: 111px;
            border-radius: 4px;
            border: 1px solid #CCC;
            background-color: #4b70e2;
            color: #333;
            border-radius: 25px;
            width: 180px;
            height: 40px;
            margin-top: 50px;
            font-weight: 700;
            font-size: 14px;
            color: black;
            background-color: #EBEBEB;
            border-radius: 25px;
            border: none;
            outline: none;
            cursor: pointer;
            user-select: none;
            /* 阴影 */
            box-shadow: 1px 1px 1px #d2dae6,
            -10px -10px 10px #f9f9f9;

            transition: all .6s ease-in-out;
        }

        .button:hover {
            color: white;

            border-color: #ADADAD;
            background-color: #4b70e2;
        }
    </style>
</head>
<body style=" background: #ecf0f3">
<div class="Content-Main">
    <div class="Content-Main1">
        <h1>用户反馈</h1>
    </div>

    <div id="app">
    <form action="" method="post" class="form-report">
        <div class="block" style="margin-left: 60px
">
            <span  class="demonstration">选择时间:</span>
            <el-date-picker
                    style=" margin-left:10px;"

                    v-model="value1"
                    type="datetime"
                    placeholder="日期时间"
                    style="margin: 0" disabled>
            </el-date-picker>
        </div>
        <label style="display: flex;margin-left:60px;">
            <p style="text-align: center;margin-top:30px"> 消息编号:</p>
            <input style=" margin-left:10px;margin-top:20px" class="text" v-model="name" placeholder="消息编号" disabled>
        </label>

        <label style="display: flex;margin-left:60px;">
            <p style="text-align: center;margin-top:30px"> 编号:</p>
            <input style=" margin-left:30px;margin-top:20px" class="text" v-model="number" placeholder="请输入学号或者编号" >
        </label>
        <label>
            <span>反馈信息:</span>
            <textarea id="mesaage" name="message" v-model="message" placeholder="填写反馈信息"></textarea>
        </label>

        <label>
            <input type="button" class="button" @click="submit()" value="提交">
        </label>
    </form>
</div></div>
</body>
<script src="js/script.js"></script>
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/qs/6.10.1/qs.js"></script>
<script>

    new Vue({
        el: '#app',
        data() {
            return {
                pickerOptions: {
                    shortcuts: [{
                        text: '今天',
                        onClick(picker) {
                            picker.$emit('pick', new Date());
                        }
                    }, {
                        text: '昨天',
                        onClick(picker) {
                            const date = new Date();
                            date.setTime(date.getTime() - 3600 * 1000 * 24);
                            picker.$emit('pick', date);
                        }
                    }, {
                        text: '一周前',
                        onClick(picker) {
                            const date = new Date();
                            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);
                            picker.$emit('pick', date);
                        }
                    }]
                },
                value1: this.getNowTime(),
                number:"",
                name:"",
                message:""

            };
            },
        created() {
            this.timeDefaultShow = new Date();
            this.timeDefaultShow.setMonth(new Date().getMonth() - 1);
            var num = Math.random().toString(36).slice(-8)
              this.name=num
        },methods: {
            //处理默认选中当前日期
            getNowTime() {
                var now = new Date();
                var year = now.getFullYear(); //得到年份
                var month = now.getMonth(); //得到月份
                var date = now.getDate(); //得到日期
                var hour =now.getHours();
                var minutes=now.getMinutes();
                var secondes=now.getSeconds()//默认时分秒 如果传给后台的格式为年月日时分秒，就需要加这个，如若不需要，此行可忽略
                month = month + 1;
                // month = month.toString().padStart(2, "0");
                // date = date.toString().padStart(2, "0");
                var defaultDate = `${year}-${month}-${date} ${hour}:${minutes}:${secondes}`;
                console.log(defaultDate)
                return defaultDate;
                // this.$set(this.info, "stockDate", defaultDate);
            },
           submit(){
                console.log("success")
               var _this=this
               axios({
                   method: "post",
                   url: "http://localhost:8080/lunwen/message1/message",
                   changeOrigin:true,
                   data: {
                    Fasongnumber:this.number,
                       number:this.name,
                       nerong:this.message,
                       timea:this.value1

                   },
                   paramsSerializer: function (data) {
                       return qs.stringify(data, { arrayFormat: 'repeat' })
                   }
               }).then(function (req) {
                   console.log(req.data)
                   if(req.data==true){
                       alert("添加成功")

                   }else
                   {
                       alert("注册失败")
                   }
               })
            }

        },

    })

</script>
</html>
